---
layout: default
permalink: /trees
---

{% assign allTags = site.notes | map: "tags" | uniq %}
<fieldset class="tab-group">
    {% include filter-set.html allTags=allTags filter="Clans/" groupId="clan" filterByString="Clan" %}
</fieldset>
<div class="svg-container">
    <div class="button-wrapper single">

        <button id="reset-button" title="reset">
            <span class="material-symbols-outlined">
                restart_alt
            </span>
        </button>

        <p class="instructions">Use
            <span>arrow</span>
            keys or
            <span>WASD</span>
            to pan</p>
        <p class="instructions">Use
            <span>+</span>
            or
            <span>-</span>
            to zoom</p>
        <p class="instructions">Hover over portrait to highlight immediate family members.</p>
        <span class="input-span toggle-button">
            <input
                checked
                id="show-unions"
                name="showUnions"
                onchange="toggleInput(event)"
                type="checkbox" />
            <label for="show-unions">Show Unions</label>
        </span>
    </div>
    <svg class="family-tree" viewbox="0 0 100 100">

        {% assign people = site.notes | "where_exp": "note", "note.tags contains 'Clans/Gillespie' and note.tags contains 'Category/Individual' or note.Clan == 'Gillespie' "%}
        {% for person in people %}
            {%assign clan = person.Clan %}
            {% assign parents = person.parents | jsonify  %}
            {% assign partners = person.partners | jsonify %}
            {% assign title = person.title %}
            {% assign linkPath = person.url %}
            {% assign firstGen = false %}
            {% if person.tags contains "Generation/First" %}
                {% assign firstGen = true %}
            {% endif %}

            {% if person.firstName %}
                {% assign firstName = person.firstName %}
            {% else %}
                {% assign nameSegments = person.title | split: " " %}
                {% assign firstName = nameSegments[0] %}
            {% endif %}
            {% capture namePath %}
                /assets/clans/{{clan | capitalize}}/{{firstName}}.webp
            {% endcapture %}
            {% assign imagePosition = person.imagePosition %}

            {% include family-tree-card.html person=person source=namePath parents=parents partners=partners ourTitle=title firstGen=firstGen linkPath=linkPath imagePosition=imagePosition %}

        {% endfor %}
    </svg>
</div>

<script src="/assets/scripts/family-tree.js"></script>
{%- comment -%}
    <!-- <script src="/assets/scripts/zoom-and-pan.js"></script> -->{%- endcomment -%
        {%- endcomment -%
    {%- endcomment -%
{%- endcomment -%}}
